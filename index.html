<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BLACKPINK Solo Song Sorter</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f4f4f4;
            margin-top: 50px;
        }
        button {
            padding: 10px 20px;
            background-color: #ff4081;
            color: white;
            border: none;
            margin: 20px;
            cursor: pointer;
        }
        button:hover {
            background-color: #e91e63;
        }
        #rankedList {
            margin-top: 30px;
        }
    </style>
</head>
<body>

    <h1>BLACKPINK Solo Song Sorter</h1>
    <div id="battle">
        <p>Pick which song you like better:</p>
        <button id="leftSong" onclick="chooseSong('left')"></button>
        <button id="rightSong" onclick="chooseSong('right')"></button>
    </div>

    <div id="rankedList"></div>

    <script>
        const songs = [
            'SOLO - Jennie',
            'On The Ground - Rosé',
            'Gone - Rosé',
            'Lalisa - Lisa',
            'Money - Lisa',
            'You & Me - Jennie',
            'You & Me (Coachella version) - Jennie',
            'FLOWER - Jisoo',
            'All Eyes on Me - Jisoo',
            'Rockstar - Lisa',
            'Moonlit Floor - Lisa',
            'New Woman - Lisa',
            'APT - Rosé',
            'Mantra - Jennie'
        ];

        let rankings = [];
        let battles = [];
        let currentBattle = 0;

        function initializeBattles() {
            // Generate all possible pairings (battles) of the songs
            for (let i = 0; i < songs.length; i++) {
                for (let j = i + 1; j < songs.length; j++) {
                    battles.push([songs[i], songs[j]]);
                }
            }
            shuffleArray(battles); // Shuffle battles to make the comparison order random
            displayBattle();
        }

        function displayBattle() {
            if (currentBattle < battles.length) {
                document.getElementById('leftSong').innerText = battles[currentBattle][0];
                document.getElementById('rightSong').innerText = battles[currentBattle][1];
            } else {
                // No more battles; display the final rankings
                displayRankings();
            }
        }

        function chooseSong(choice) {
            const winner = choice === 'left' ? battles[currentBattle][0] : battles[currentBattle][1];
            const loser = choice === 'left' ? battles[currentBattle][1] : battles[currentBattle][0];

            // Update rankings based on the user's choice
            updateRankings(winner, loser);

            // Move to the next battle
            currentBattle++;
            displayBattle();
        }

        function updateRankings(winner, loser) {
            // Add the winner and loser to the rankings if they aren't already there
            if (!rankings.includes(winner)) rankings.push(winner);
            if (!rankings.includes(loser)) rankings.push(loser);

            // Ensure that the winner comes before the loser in the rankings
            const winnerIndex = rankings.indexOf(winner);
            const loserIndex = rankings.indexOf(loser);

            if (winnerIndex > loserIndex) {
                rankings.splice(winnerIndex, 1);
                rankings.splice(loserIndex, 0, winner);
            }
        }

        function displayRankings() {
            let rankedList = '<h2>Your Ranked List of BLACKPINK Solo Songs:</h2><ol>';
            rankings.forEach(song => {
                rankedList += `<li>${song}</li>`;
            });
            rankedList += '</ol>';

            document.getElementById('battle').style.display = 'none'; // Hide the battle section
            document.getElementById('rankedList').innerHTML = rankedList; // Display the ranked list
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        // Initialize the battles when the page loads
        window.onload = initializeBattles;
    </script>

</body>
</html>
