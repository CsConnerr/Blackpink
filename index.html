<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BLACKPINK Solo Song Sorter!!</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f4f4f4;
            margin-top: 50px;
        }
        button {
            padding: 10px 20px;
            background-color: #ff4081;
            color: white;
            border: none;
            margin: 20px;
            cursor: pointer;
        }
        button:hover {
            background-color: #e91e63;
        }
        #rankedList {
            margin-top: 30px;
        }
    </style>
</head>
<body>

    <h1>BLACKPINK Solo Song Sorter</h1>
    <div id="battle">
        <p>Pick which song you like better:</p>
        <button id="leftSong" onclick="chooseSong('left')"></button>
        <button id="rightSong" onclick="chooseSong('right')"></button>
    </div>

    <div id="rankedList"></div>

    <script>
        const songs = [
            'SOLO - Jennie',
            'On The Ground - Rosé',
            'Gone - Rosé',
            'Lalisa - Lisa',
            'Money - Lisa',
            'You & Me - Jennie',
            'You & Me (Coachella version) - Jennie',
            'FLOWER - Jisoo',
            'All Eyes on Me - Jisoo',
            'Rockstar - Lisa',
            'Moonlit Floor - Lisa',
            'New Woman - Lisa',
            'APT - Rosé',
            'Mantra - Jennie'
        ];

        let rankedSongs = [];
        let currentPair = [];
        let pendingPairs = [];

        // Prepare the list of all possible song comparisons
        function generatePairs() {
            for (let i = 0; i < songs.length; i++) {
                for (let j = i + 1; j < songs.length; j++) {
                    pendingPairs.push([songs[i], songs[j]]);
                }
            }
        }

        // Initialize the sorter
        function startSort() {
            generatePairs();
            currentPair = pendingPairs.shift(); // Get the first pair
            displayBattle();
        }

        // Display the current song pair to compare
        function displayBattle() {
            if (currentPair) {
                document.getElementById('leftSong').innerText = currentPair[0];
                document.getElementById('rightSong').innerText = currentPair[1];
            } else {
                displayRankings();
            }
        }

        // Handle user's choice and update ranking logic
        function chooseSong(choice) {
            const winner = choice === 'left' ? currentPair[0] : currentPair[1];
            const loser = choice === 'left' ? currentPair[1] : currentPair[0];

            // Insert winner at the correct position
            const winnerIndex = rankedSongs.indexOf(winner);
            const loserIndex = rankedSongs.indexOf(loser);

            if (winnerIndex === -1 && loserIndex === -1) {
                rankedSongs.push(winner, loser);
            } else if (winnerIndex === -1) {
                rankedSongs.splice(loserIndex, 0, winner);
            } else if (loserIndex === -1) {
                rankedSongs.splice(winnerIndex + 1, 0, loser);
            } else if (winnerIndex > loserIndex) {
                // Move winner to correct place relative to the loser
                rankedSongs.splice(winnerIndex, 1);
                rankedSongs.splice(loserIndex, 0, winner);
            }

            // Move to the next pair of songs
            currentPair = pendingPairs.shift();
            displayBattle();
        }

        // Display final rankings once all comparisons are done
        function displayRankings() {
            let rankedList = '<h2>Your Ranked List of BLACKPINK Solo Songs:</h2><ol>';
            rankedSongs.forEach(song => {
                rankedList += `<li>${song}</li>`;
            });
            rankedList += '</ol>';

            document.getElementById('battle').style.display = 'none'; // Hide the battle section
            document.getElementById('rankedList').innerHTML = rankedList; // Display the ranked list
        }

        // Initialize the sorting process when the page loads
        window.onload = startSort;
    </script>

</body>
</html>
